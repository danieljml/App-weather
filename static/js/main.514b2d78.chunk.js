(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{17:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(6),r=a.n(s),i=(a(5),a(4)),o=a.n(i),l=a(7),u=a(2),j=a(8),m=a.n(j),d=a(9),p=a(0),h=function(e){var t=e/60;return m()().utcOffset(t).format("h:mm A")},b="4aa692caf0bf7cf7a224fe81a3ca4959",O="https://api.openweathermap.org/data/2.5/";var x=function(){var e,t,a=Object(c.useState)(null),n=Object(u.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(""),j=Object(u.a)(i,2),m=j[0],x=j[1],f=Object(c.useState)({type:"",message:""}),g=Object(u.a)(f,2),y=g[0],v=g[1],w=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(O,"weather?q=").concat(t,"&units=metric&APPID=").concat(b));case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,200!==a.status){e.next=16;break}if(r(c),v({type:"success",message:"Success request"}),!(c.main.temp>16)){e.next=13;break}return x("warm"),e.abrupt("return");case 13:x("cold"),e.next=17;break;case 16:v({type:"error",message:"Invalid country"});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:return e.prev=22,setTimeout((function(){return v({type:"",message:""})}),3e3),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[0,19,22,25]])})));return function(t){return e.apply(this,arguments)}}(),_=s?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("img",{loading:"lazy",className:"top__image",src:"warm"===m?"https://i.imgur.com/Cf7kgE8.png":"https://i.imgur.com/iLDHBSD.png",alt:"img-weather"}),Object(p.jsxs)("div",{className:"top__content",children:[Object(p.jsx)("p",{children:null===(e=s.weather[0])||void 0===e?void 0:e.main}),Object(p.jsxs)("span",{children:[Math.round(s.main.temp),"\xb0"]})]})]}):"",N=s?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"container__image",children:Object(p.jsx)("img",{loading:"lazy",className:m,src:"https://openweathermap.org/img/wn/".concat(null===(t=s.weather[0])||void 0===t?void 0:t.icon,"@2x.png"),alt:"icon"})}),Object(p.jsxs)("p",{className:"location",children:[s.name,", ",s.sys.country]}),Object(p.jsx)("p",{className:"date",children:function(e){var t=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][e.getDay()],a=e.getDate(),c=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"][e.getMonth()],n=e.getFullYear();return"".concat(t," ").concat(a," ").concat(c," ").concat(n)}(new Date)}),Object(p.jsxs)("ul",{children:[Object(p.jsxs)("li",{children:["Description: ",Object(p.jsx)("span",{children:s.weather[0].description})]}),Object(p.jsxs)("li",{children:["Coords:"," ",Object.entries(s.coord).map((function(e){return"".concat(e[0],": ").concat(e[1])})).join(", ")]}),Object(p.jsxs)("li",{children:["Timezone: ",h(s.timezone)]}),Object(p.jsxs)("li",{children:["Pressure: ",Math.round(s.main.pressure)]}),Object(p.jsxs)("li",{children:["Humidity: ",Math.round(s.main.humidity)]})]})]}):"";return Object(p.jsxs)("div",{className:"container__app ".concat(m),children:[Object(p.jsx)("div",{className:"alert ".concat(y.type),children:Object(p.jsx)("p",{children:y.message})}),Object(p.jsxs)("main",{className:"app",children:[Object(p.jsxs)("div",{className:"container__top",children:[Object(p.jsx)("header",{className:"block",children:Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target,a=new FormData(t),c=Object.fromEntries(a.entries()).country;w(c),t.reset()},id:"form-country",className:"form-weather",children:[Object(p.jsx)("input",{className:"form__input",type:"text",name:"country",placeholder:"Search weather by country"}),Object(p.jsx)("button",{type:"submit",className:"form__btn",children:Object(p.jsx)(d.a,{className:"btn__icon"})})]})}),_]}),Object(p.jsx)("div",{className:"container__bottom ".concat(m),children:N})]})]})};r.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(x,{})}),document.getElementById("root"))},5:function(e,t,a){}},[[17,1,2]]]);
//# sourceMappingURL=main.514b2d78.chunk.js.map