(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{17:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(8),s=n.n(a),i=(n(7),n(4)),o=n(2),u=n.n(o),p=n(3),j=n(9),l=n(6),m=n.n(l),h=n(0),b=function(e){var t=e/60;return m()().utcOffset(t).format("h:mm A")},d=function(){var e=Object(p.a)(u.a.mark((function e(t){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://ipinfo.io/".concat(t,"?token=f7e68a41baa7e5"));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,console.log("User IP Address:",r),c=r.city,e.abrupt("return",c);case 12:e.prev=12,e.t0=e.catch(0),console.error("Error fetching city by IP:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(p.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.ipify.org?format=json");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,r=n.ip,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching IP:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),x="4aa692caf0bf7cf7a224fe81a3ca4959",O="https://api.openweathermap.org/data/2.5/",v=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{className:"form__input",type:"text",name:"country",placeholder:"Search weather by country"}),Object(h.jsx)("button",{type:"submit",className:"form__btn",children:Object(h.jsx)(j.a,{className:"btn__icon"})})]})},y=Object(r.memo)(v);var w=function(){var e,t,n=Object(r.useState)(null),c=Object(i.a)(n,2),a=c[0],s=c[1],o=Object(r.useState)(""),j=Object(i.a)(o,2),l=j[0],v=j[1],w=Object(r.useState)({type:"",message:""}),g=Object(i.a)(w,2),_=g[0],N=g[1],k=function(){var e=Object(p.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:return t=e.sent,e.next=5,d(t);case 5:n=e.sent,I(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){k()}),[]);var S=function(){var e=Object(p.a)(u.a.mark((function e(t){var n,r,c,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target,r=new FormData(n),c=Object.fromEntries(r.entries()),a=c.country,e.next=6,I(a);case 6:s=e.sent,N(s?{type:"success",message:"Success request"}:{type:"error",message:"Invalid country"}),setTimeout((function(){return N({type:"",message:""})}),2e3),n.reset();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(p.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(O,"weather?q=").concat(t,"&units=metric&APPID=").concat(x));case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,200!==n.status){e.next=12;break}return r.main.temp>16&&v("warm"),v("cold"),s(r),e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),P=a?Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"top__content ".concat(l),children:[Object(h.jsx)("p",{children:null===(e=a.weather[0])||void 0===e?void 0:e.main}),Object(h.jsxs)("span",{children:[Math.round(a.main.temp),"\xb0"]})]})}):"",E=a?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"container__image",children:Object(h.jsx)("img",{loading:"lazy",className:l,src:"https://openweathermap.org/img/wn/".concat(null===(t=a.weather[0])||void 0===t?void 0:t.icon,"@2x.png"),alt:"icon"})}),Object(h.jsxs)("p",{className:"location",children:[a.name,", ",a.sys.country]}),Object(h.jsx)("p",{className:"date",children:m()().format("LLLL")}),Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{children:["Description: ",Object(h.jsx)("span",{children:a.weather[0].description})]}),Object(h.jsxs)("li",{children:["Coords:"," ",Object.entries(a.coord).map((function(e){return"".concat(e[0],": ").concat(e[1])})).join(", ")]}),Object(h.jsxs)("li",{children:["Timezone: ",b(a.timezone)]}),Object(h.jsxs)("li",{children:["Pressure: ",Math.round(a.main.pressure)]}),Object(h.jsxs)("li",{children:["Humidity: ",Math.round(a.main.humidity)]})]})]}):"";return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"alert ".concat(_.type),children:Object(h.jsx)("p",{children:_.message})}),Object(h.jsx)("div",{className:"container__app ".concat(l),children:Object(h.jsxs)("main",{className:"app ".concat(l),children:[Object(h.jsxs)("div",{className:"container__top",children:[Object(h.jsx)("header",{className:"block",children:Object(h.jsx)("form",{onSubmit:S,id:"form-country",className:"form-weather",children:Object(h.jsx)(y,{})})}),P]}),Object(h.jsx)("div",{className:"container__bottom ".concat(l),children:E})]})})]})};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(w,{})}),document.getElementById("root"))},7:function(e,t,n){}},[[17,1,2]]]);
//# sourceMappingURL=main.57247399.chunk.js.map